# Next Session: Asset Feature Implementation (Tracer Bullet Approach)

## üéØ PRIMARY OBJECTIVE
Implement a minimal Asset management feature using the **tracer bullet approach** - end-to-end functionality with the bare minimum fields, then expand incrementally.

## üìä CURRENT STATUS
‚úÖ **Infrastructure Ready**: All build and deployment issues resolved  
‚úÖ **Backend**: Version 59cbd00 deployed and running  
‚úÖ **Frontend**: Version cfed5b7 deployed with working blob storage sync  
‚úÖ **File Management**: Working correctly with sync functionality  

## üèóÔ∏è ASSET FEATURE PLAN

### Phase 1: Minimal Viable Asset (Tracer Bullet)
**Goal**: End-to-end CRUD with absolute minimum fields

**Database Schema** (add to Prisma):
```prisma
model Asset {
  id         String   @id @default(uuid())
  assetTag   String   @unique
  name       String
  is_deleted Boolean  @default(false)
  created_at DateTime @default(now())
  updated_at DateTime @updatedAt
  
  @@index([assetTag])
  @@index([created_at])
  @@index([is_deleted])
  @@map("assets")
}
```

**Backend Implementation**:
1. Generate migration: `npx prisma migrate dev --name add_assets_table`
2. Create NestJS module: `npx nest g module asset`
3. Create controller: `npx nest g controller asset`  
4. Create service: `npx nest g service asset`
5. Implement CRUD endpoints following User feature patterns
6. Add API documentation with Swagger decorators

**Frontend Implementation**:
1. Create `/assets` route in router
2. Create AssetsPage component (copy from FilesPage structure)
3. Create asset management components (similar to file management)
4. Add navigation link to assets page
5. Implement basic table view with add/edit/delete

**API Endpoints** (follow existing patterns):
- `GET /api/assets` - List assets with pagination
- `POST /api/assets` - Create new asset
- `GET /api/assets/:id` - Get single asset
- `PUT /api/assets/:id` - Update asset
- `DELETE /api/assets/:id` - Soft delete asset

### Phase 2: Incremental Expansion (Future Sessions)
Only after Phase 1 is fully working:
- Add description field
- Add status enum (ACTIVE, MAINTENANCE, RETIRED)
- Add location field
- Add owner relationship to User
- Add project relationships
- Add asset categories/types
- Add file attachments

## üîß DEVELOPMENT APPROACH

### Follow Existing Patterns
- **Copy User feature structure** for consistency
- **Use architectural rules** from CLAUDE.md (one thing per file, etc.)
- **Follow YAGNI principles** - only implement what's needed
- **Apply User Feature MVP Blueprint** patterns

### Quality Gates
1. **Local Development**: Test CRUD operations locally
2. **Database Migration**: Run migration and verify schema
3. **API Testing**: Test all endpoints with curl/Postman
4. **Frontend Integration**: Verify end-to-end functionality
5. **Deployment**: Deploy and verify in production
6. **Documentation**: Update day notes with progress

## üìù SUCCESS CRITERIA
- [ ] Database schema created and migrated
- [ ] Backend CRUD API working (all 5 endpoints)
- [ ] Frontend page displaying asset list
- [ ] Can create new assets via UI
- [ ] Can edit existing assets
- [ ] Can delete assets (soft delete)
- [ ] Deployed to production and verified working

## üö® IMPORTANT REMINDERS
- **No broken windows**: Fix issues as they arise, don't work around them
- **Test locally first**: Always verify locally before deploying
- **Use existing patterns**: Copy from User/Project features for consistency
- **Keep it minimal**: Resist feature creep, stick to 3 fields only
- **Follow SOP**: Use deployment SOP for any deployments needed

## üìÇ FILES TO CREATE/MODIFY
**Backend**:
- `apps/backend/prisma/schema.prisma` - Add Asset model
- `apps/backend/src/asset/` - New feature module
- Migration files generated by Prisma

**Frontend**:  
- `apps/frontend/src/pages/AssetsPage.tsx` - Main assets page
- `apps/frontend/src/components/asset-management/` - Asset components
- Router updates for /assets route

---
**Ready to begin**: Start with database schema addition and Prisma migration!