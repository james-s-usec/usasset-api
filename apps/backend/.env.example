################################################################################
# USAsset Backend Environment Configuration
# 
# IMPORTANT: This file must be configured correctly for the backend to work!
# 
# Setup Instructions:
# 1. Copy this file to .env if it doesn't exist
# 2. Check docker-compose.yml for current database credentials
# 3. Update DATABASE_URL below to match docker-compose.yml settings
# 4. Run: npx prisma migrate deploy (from apps/backend directory)
# 5. Restart backend: npm run start:dev
#
# Common Issues:
# - "Can't reach database": Check DATABASE_URL matches docker-compose.yml
# - "Authentication failed": Password in DATABASE_URL doesn't match Docker
# - "fetch failed": Wrong DATABASE_URL format (use postgresql://, not prisma+postgres://)
################################################################################

# Database Configuration
# ----------------------
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
# 
# Docker defaults (from docker-compose.yml):
# - User: dbadmin
# - Password: localpassword123  
# - Port: 5433 (maps to container's 5432)
# - Database: usasset
DATABASE_URL="postgresql://dbadmin:localpassword123@localhost:5433/usasset"

# Application Configuration
# ------------------------
NODE_ENV=development
PORT=3000
CORS_ORIGIN=http://localhost:5173
LOG_TO_FILE=false

# Azure Storage Configuration
# ---------------------------
# For file uploads and image serving
# Get connection string: az storage account show-connection-string --name usassetstoragedev --resource-group useng-usasset-api-rg
# AZURE_STORAGE_CONNECTION_STRING="your-storage-connection-string"
# AZURE_STORAGE_CONTAINER_NAME=uploads

# Additional Configuration (if needed)
# -----------------------------------
# JWT_SECRET=your-jwt-secret-here
# API_KEY=your-api-key-here

# Production Configuration (Azure)
# --------------------------------
# In production, these are set by Azure Container Apps from Key Vault:
# - DATABASE_URL: From Key Vault secret 'usasset-db-connection'
# - JWT_SECRET: From Key Vault secret 'jwt-secret' (REQUIRED in production)
# - API_KEY: From Key Vault secret 'api-key'
# - NODE_ENV: Set to 'production' in Container App config
# - PORT: Auto-set by Container Apps
# - LOG_TO_FILE: Set to 'true' in production